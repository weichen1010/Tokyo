<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOKYO EPBAE ğŸ—¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        /* Navigation Tabs: Responsive adjustments */
        .nav-tab {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-tab.active {
            border-bottom-color: #D97706;
            color: #D97706;
            font-weight: 700;
        }
        /* Timeline Icon Hover Effect */
        .timeline-item .icon {
            transition: transform 0.3s ease;
        }
        .timeline-item:hover .icon {
            transform: scale(1.2);
        }
        /* Style for linkable event cards */
        .link-card {
            transition: box-shadow 0.3s ease, background-color 0.3s ease;
        }
        .link-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            background-color: #fefcfb;
        }
        /* Ensure scrollable tabs on small screens */
        .nav-scroll-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */
            scrollbar-width: none; /* Firefox */
        }
        .nav-scroll-wrapper::-webkit-scrollbar {
            display: none; /* Chrome/Safari/Opera */
        }
        /* Style for in-text links in descriptions */
        .description-link {
            color: #059669; /* Tailwind's emerald-600 */
            text-decoration: underline;
            font-weight: 500;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-amber-800">TOKYO EPBAE ğŸ—¼</h1>
            <p class="text-base sm:text-lg text-stone-600 mt-2">ä¸€è¶Ÿæ¢ç´¢åŸå¸‚æ–‡åŒ–èˆ‡ç¾é£Ÿçš„æ—…ç¨‹</p>
        </header>

        <div class="nav-scroll-wrapper">
            <nav class="flex justify-start whitespace-nowrap border-b border-stone-200 mb-8 sm:justify-center">
                <button data-tab="links" class="nav-tab py-3 px-4 sm:px-6 text-base active">å¯¦ç”¨é€£çµ</button>
                <button data-tab="day1" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 1</button>
                <button data-tab="day2" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 2</button>
                <button data-tab="day3" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 3</button>
                <button data-tab="day4" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 4</button>
                <button data-tab="day5" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 5</button>
                <button data-tab="day6" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 6</button>
                <button data-tab="day7" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 7</button>
                <button data-tab="day8" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 8</button>
                <button data-tab="day9" class="nav-tab py-3 px-4 sm:px-6 text-base">Day 9</button>
            </nav>
        </div>

        <main id="content-container">
            <!-- Content will be injected by JavaScript -->
        </main>
    </div>

    <script>
        const tripData = {
            // å¯¦ç”¨é€£çµé é¢è³‡æ–™
            links: {
                title: "æ—…è¡Œå¯¦ç”¨é€£çµ",
                description: "ä»¥ä¸‹æ˜¯æ‚¨ç‚ºæœ¬æ¬¡æ—…è¡Œæº–å‚™çš„é‡è¦é€£çµï¼Œæ¶µè“‹äº†å¤©æ°£ã€å¯Œå£«å±±èƒ½è¦‹åº¦ï¼Œè³¼ç‰©ä¸­å¿ƒèˆ‡æœ€æ–°çš„æ‰­è›‹è³‡è¨Šï¼Œæ–¹ä¾¿æ‚¨å¿«é€ŸæŸ¥è©¢ã€‚",
                locations: [
                    { name: "å¯Œå£«å±±èƒ½è¦‹åº¦", icon: "ğŸ—»", url: "https://fuji-san.info/zh-tw/index.html", category: "å¤©æ°£/æ™¯è§€æŸ¥è©¢" },
                    { name: "æ±äº¬å¤©æ°£é å ±", icon: "â˜€ï¸", url: "https://tenki.jp/lite/forecast/3/", category: "å¤©æ°£/æ™¯è§€æŸ¥è©¢" },
                    // --- æ‰­è›‹é€£çµ ---
                    { name: "T-ARTS æ‰­è›‹è³‡è¨Š", icon: "ğŸª™", url: "https://www.takaratomy-arts.co.jp/items/gacha/", category: "æ‰­è›‹/å¨›æ¨‚è³‡è¨Š" },
                    { name: "BANDAI è½‰è›‹è³‡è¨Š", icon: "ğŸ•¹ï¸", url: "https://gashapon.jp/", category: "æ‰­è›‹/å¨›æ¨‚è³‡è¨Š" },
                    // ------------------
                    { name: "æ¾€è°·PARCO å“ç‰Œåˆ—è¡¨", icon: "ğŸ›ï¸", url: "https://shibuya.parco.jp.t.aiv.hp.transer.com/shop/?search=", category: "è³¼ç‰©è³‡è¨Š" },
                    { name: "æ¾€è°·PARCO æ¨“å±¤æŒ‡å—", icon: "ğŸ—ºï¸", url: "https://shibuya.parco.jp.t.aiv.hp.transer.com/floor/", category: "è³¼ç‰©è³‡è¨Š" },
                    { name: "ä¼Šå‹¢ä¸¹ç™¾è²¨ å“ç‰Œåˆ—è¡¨", icon: "ğŸ’", url: "https://cp.mistore.jp/global/zh_hant/shinjuku/brand.html", category: "è³¼ç‰©è³‡è¨Š" },
                    { name: "ä¼Šå‹¢ä¸¹ç™¾è²¨ æ¨“å±¤æŒ‡å—", icon: "ğŸ§­", url: "https://www.mistore.jp.t.az.hp.transer.com/store/shinjuku/shops.html", category: "è³¼ç‰©è³‡è¨Š" }
                ]
            },
            // Day 1 è¡Œç¨‹è³‡æ–™
            day1: {
                title: "Day 1ï¼šæŠµé”èˆ‡ç§‹è‘‰åŸåˆæ¢",
                events: [
                    { time: "17:15", icon: "âœˆï¸", title: "æŠµé”æˆç”°æ©Ÿå ´", description: "è¾¦ç†å…¥å¢ƒæ‰‹çºŒï¼Œé ˜å–è¡Œæã€‚" },
                    { time: "äº¤é€š", icon: "ğŸš†", title: "æ­ä¹˜ Skyliner å‰å¾€ä¸Šé‡", description: "å¾æ©Ÿå ´æ­ä¹˜ Skyliner å‰å¾€äº¬æˆä¸Šé‡ç«™ï¼Œè»Šç¨‹ç´„41åˆ†é˜ã€‚**è«‹åœ¨ä¸Šé‡ç«™å…Œæ›åœ°éµ48å°æ™‚åˆ¸**ã€‚" },
                    { time: "18:20~20:00", icon: "ğŸœ", title: "æ™šé¤ï¼šé´¨toè”¥ ä¸Šé‡åº—", description: "å“åšçŸ¥åçš„é´¨è‚‰æ‹‰éºµï¼Œé è¨ˆç”¨é¤æ™‚é–“è‡³ 20:00ã€‚", url: "https://maps.app.goo.gl/eYctyUJh4myjzDHe9" },
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­åœ°éµå‰å¾€ç§‹è‘‰åŸ", description: "å¾ä¸Šé‡ç«™æ­ä¹˜åœ°éµå‰å¾€ç§‹è‘‰åŸï¼Œé–‹å§‹æ™šé–“è¡Œç¨‹ã€‚" },
                    { time: "20:20~21:45", icon: "ğŸ›ï¸", title: "ç§‹è‘‰åŸé€›è¡—", description: "å‹•æ¼«ã€é›»ç©èˆ‡é›»å­ç”¢å“çš„è–åœ°ï¼Œé è¨ˆé€›è¡—æ™‚é–“è‡³ 21:45ã€‚" },
                    { time: "22:10~23:00", icon: "ğŸ»", title: "å®µå¤œï¼šhitoma", description: "åœ¨ç§‹è‘‰åŸé™„è¿‘äº«ç”¨å®µå¤œã€‚", url: "https://maps.app.goo.gl/7qbFt6HFGxLiGKw8A" },
                    { time: "äº¤é€š", icon: "ğŸ¨", title: "è¿”å›é£¯åº—ï¼šæ±æ©«INN æ±äº¬æ—¥æœ¬æ©‹é¦¬å–°ç”º", description: "æ­ä¹˜åœ°éµè¿”å›é£¯åº—ï¼Œæº–å‚™ä¼‘æ¯ã€‚" }
                ],
                // Day 1 å°ˆå±¬é€£çµå€å¡Š (ç§‹è‘‰åŸ)
                shops: {
                    title: "ç§‹è‘‰åŸé€›è¡—æ¨è–¦åº—å®¶",
                    locations: [
                        { name: "BIC CAMERA ç§‹è‘‰åŸåº—", icon: "ğŸ“·", url: "https://maps.app.goo.gl/1VxAyrtxbmZFFfHT7" },
                        { name: "å‹éƒ½å…«å–œ ç§‹è‘‰åŸ", icon: "ğŸ¢", url: "https://maps.app.goo.gl/bmiXLnWdcQNAwuEZA" }
                    ]
                }
            },
            // Day 2 è¡Œç¨‹è³‡æ–™
            day2: {
                title: "Day 2ï¼šç¶“å…¸åœ°æ¨™èˆ‡ä¸‹ç”ºé¢¨æƒ…",
                events: [
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€æ±äº¬éµå¡”", description: "å¾é£¯åº—å‡ºç™¼ï¼Œæ­ä¹˜åœ°éµå‰å¾€æ±äº¬éµå¡”å€åŸŸã€‚" },
                    { time: "09:30~10:45", icon: "ğŸ—¼", title: "æ±äº¬éµå¡”æ‹ç…§", description: "åœ¨éµå¡”å‘¨é‚Šå°‹æ‰¾æœ€ä½³è§’åº¦æ‹ç…§ç•™å¿µã€‚" },
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€ç¯‰åœ°å¸‚å ´", description: "å‰å¾€ç¯‰åœ°å ´å¤–å¸‚å ´ï¼Œæº–å‚™äº«ç”¨åˆé¤ã€‚" },
                    { 
                        time: "11:30~13:15", 
                        icon: "ğŸ£", 
                        title: "åˆé¤ï¼šç¯‰åœ°å¸‚å ´", 
                        description: `åœ¨ç¯‰åœ°å¸‚å ´å“åšæ–°é®®çš„æµ·ç”¢ç¾é£Ÿã€ç‰å­ç‡’ã€‚å¿…åƒï¼š<a href="https://maps.app.goo.gl/TTc7U5bNfk92tb967" target="_blank" rel="noopener noreferrer" class="description-link">æ²¹ç‚¸ä¸‰æ˜æ²»å°ˆè³£åº— Age.3</a>` 
                    },
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€ç¦å¾·ç¥ç¤¾", description: "å‰å¾€æ—¥æœ¬æ©‹å€åŸŸçš„ç¦å¾·ç¥ç¤¾ã€‚" },
                    { 
                        time: "13:35~14:00", 
                        icon: "â›©ï¸", 
                        title: "ç¦å¾·ç¥ç¤¾åƒæ‹œ", 
                        description: "åœ¨å°å·§ç²¾ç·»çš„ç¦å¾·ç¥ç¤¾ç¥ˆç¦åƒæ‹œã€‚", 
                        url: "https://maps.app.goo.gl/NoMNZoWi2iX5Dgu99" 
                    },
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€ä¸Šé‡", description: "å‰å¾€ä¸Šé‡åœ°å€é€²è¡Œè³¼ç‰©è¡Œç¨‹ã€‚" },
                    { time: "14:15~16:25", icon: "ğŸ›ï¸", title: "ä¸Šé‡é€›è¡—", description: "åœ¨ä¸Šé‡åœ°å€è‡ªç”±é€›è¡—è³¼ç‰©ã€‚" },
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€æ·ºè‰", description: "å‰å¾€æ±äº¬çš„ä¸‹ç”ºä¸­å¿ƒâ€”â€”æ·ºè‰ã€‚" },
                    { time: "16:30~19:25", icon: "ğŸ®", title: "æ·ºè‰é€›è¡—", description: "é€›ä»²è¦‹ä¸–å•†åº—è¡—ã€æ„Ÿå—æ·ºè‰å¯ºå‘¨é‚Šçš„å‚³çµ±æ°›åœã€‚" },
                    { 
                        time: "19:30~21:30", 
                        icon: "ğŸ¥©", 
                        title: "æ™šé¤ï¼šç‰›ã®é”äºº Beef Professional Asakusa", 
                        description: "<span class='font-bold text-red-600'> (å·²è¨‚ä½) </span> åœ¨æ·ºè‰äº«ç”¨ç¾å‘³çš„ç‡’è‚‰æ™šé¤ã€‚",
                        url: "https://maps.app.goo.gl/RBynuumyv1LdrbWz9" 
                    },
                    { time: "21:30~22:30", icon: "ğŸ“¸", title: "é›·é–€ã€éš…ç”°å·å¤œæ™¯æ‹ç…§", description: "å¤œé–“çš„é›·é–€èˆ‡éš…ç”°å·æœ‰ç¾éº—çš„ç‡ˆå…‰ï¼Œé©åˆæ‹æ”æ±äº¬æ™´ç©ºå¡”å’Œå¤œé–“æ·ºè‰çš„æ™¯è‰²ã€‚", url: "https://maps.app.goo.gl/t5z43m7H1M3L32Ww6" },
                    { time: "äº¤é€š", icon: "ğŸ¨", title: "è¿”å›é£¯åº—ï¼šæ±æ©«INN æ±äº¬æ—¥æœ¬æ©‹é¦¬å–°ç”º", description: "æ­ä¹˜åœ°éµè¿”å›é£¯åº—ä¼‘æ¯ã€‚" }
                ],
                // Day 2 å°ˆå±¬é€£çµå€å¡Š (ä¸Šé‡å’Œæ·ºè‰)
                shops: {
                    sections: [
                        { 
                            title: "ä¸Šé‡é€›è¡—åœ°é»", 
                            icon: "ğŸ›ï¸",
                            locations: [
                                { name: "LHP ä¸Šé‡", url: "https://maps.app.goo.gl/2NRf4zfSayECnr466" },
                                { name: "ç™½å±±çœ¼é¡åº— ä¸Šé‡æœ¬åº—", url: "https://maps.app.goo.gl/j4LcAXHVrWLCvf8A" },
                                { name: "Mita Sneakers", url: "https://maps.app.goo.gl/dZzteqkAdZuyiV5w7" },
                                { name: "OS Drug ä¸Šé‡åº—è—¥å¦åº—", url: "https://maps.app.goo.gl/P7oY1RcJ5oLZpjmj9" }
                            ]
                        },
                        { 
                            title: "æ·ºè‰é€›è¡—åœ°é»", 
                            icon: "ğŸ®",
                            locations: [
                                { name: "ä¸‰éº—é·—å°ˆè³£åº— æ·ºè‰åº—", url: "https://maps.app.goo.gl/oCTa9HGjpNQVFEra6", note: "18:00æ‰“çƒŠ" },
                                { name: "Flower Miffy", url: "https://maps.app.goo.gl/pEDGCY7Xbp31pCzn7", note: "18:30æ‰“çƒŠ" }
                            ]
                        }
                    ]
                }
            },
            // Day 3 è¡Œç¨‹è³‡æ–™ - æ±äº¬è¿ªå£«å°¼æµ·æ´‹
            day3: {
                title: "Day 3ï¼šæ±äº¬è¿ªå£«å°¼æµ·æ´‹",
                events: [
                    { time: "07:00", icon: "ğŸš‡", title: "å‰å¾€èˆæ¿±ç«™ (æ±äº¬è¿ªå£«å°¼æµ·æ´‹)", description: "å¾é£¯åº—å‡ºç™¼ï¼Œæ­ä¹˜äº¤é€šå·¥å…·å‰å¾€æ±äº¬è¿ªå£«å°¼æµ·æ´‹ï¼Œæº–å‚™é–‹åœ’å…¥åœ’ã€‚" },
                    { time: "08:00~20:00", icon: "ğŸ°", title: "æ±äº¬è¿ªå£«å°¼æµ·æ´‹å…¨æ—¥éŠ", 
                      description: "ä¸€æ•´å¤©åœ¨è¿ªå£«å°¼æµ·æ´‹äº«å—å¥‡å¹»çš„æ¢éšªèˆ‡è¡¨æ¼”ï¼Œç›¡æƒ…éŠç©ã€‚", 
                      url: "https://maps.app.goo.gl/ZLRHED2c1SLpr9vv7" 
                    },
                    { time: "20:00", icon: "ğŸ†", title: "å¤œé–“è¡¨æ¼”èˆ‡é›¢åœ’", description: "è§€è³å®Œé–‰åœ’å‰çš„è¡¨æ¼”å¾Œï¼Œæº–å‚™è¿”å›å¸‚å€ã€‚" },
                    { time: "äº¤é€š", icon: "ğŸ¨", title: "è¿”å›é£¯åº—ï¼šæ±æ©«INN æ±äº¬æ—¥æœ¬æ©‹é¦¬å–°ç”º", description: "å¾èˆæ¿±ç«™æ­ä¹˜äº¤é€šå·¥å…·è¿”å›æ±äº¬å¸‚å€é£¯åº—ä¼‘æ¯ã€‚" }
                ]
            },
            // Day 4 è¡Œç¨‹è³‡æ–™ - å¯Œå£«å±±æ²³å£æ¹–ä¹‹æ—…
            day4: {
                title: "Day 4ï¼šå¯Œå£«å±±æ²³å£æ¹–ä¹‹æ—…",
                events: [
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "å‰å¾€æ±äº¬å…«é‡æ´²ç¸½ç«™", 
                      description: "å¾é£¯åº—å‡ºç™¼ï¼Œæ­ä¹˜åœ°éµå‰å¾€æ±äº¬å…«é‡æ´²ç¸½ç«™ï¼ˆæ±äº¬ç«™é™„è¿‘ï¼‰æº–å‚™æ­ä¹˜é«˜é€Ÿå·´å£«ã€‚", 
                      url: "https://maps.app.goo.gl/Tk4pQiiHLx1Nb21XA" 
                    },
                    { time: "11:10~13:30", icon: "ğŸš", title: "æ­ä¹˜å·´å£«å‰å¾€æ²³å£æ¹–", 
                      description: "å¾æ±äº¬ç«™æ­ä¹˜é«˜é€Ÿå·´å£«å‰å¾€æ²³å£æ¹–ç«™ï¼Œè»Šç¨‹ç´„ 2.5 å°æ™‚ï¼Œé è¨ˆ 13:30 æŠµé”ã€‚", 
                    },
                    { time: "äº¤é€š", icon: "ğŸš¶", title: "å¾æ²³å£æ¹–ç«™å‰å¾€é£¯åº—", 
                      description: "æ–¹å¼ç‚ºæ­¥è¡Œã€‚å¾æ²³å£æ¹–ç«™æ­¥è¡Œå‰å¾€ç§€å³°é–£æ¹–æœˆé£¯åº—ï¼Œç´„ 15-20 åˆ†é˜ã€‚", 
                    },
                    { time: "14:00~14:30", icon: "ğŸ¨", title: "ç§€å³°é–£æ¹–æœˆ Check-in", 
                      description: "æŠµé”å¯Œå£«å±±æ™¯è§€é£¯åº—è¾¦ç†å…¥ä½æ‰‹çºŒã€‚", 
                      url: "https://maps.app.goo.gl/TMy1P4SmzYjHzBsJA" 
                    },
                    { time: "14:30~17:00", icon: "ğŸï¸", title: "å¤§çŸ³å…¬åœ’ã€å¤è³€æ”¿ç”·ç´€å¿µå…¬åœ’ã€éŸ³æ¨‚æ£®æ—ç¾è¡“é¤¨", 
                      description: `ä¸‹åˆéŠè¦½æ²³å£æ¹–ç•”çš„çŸ¥åæ™¯é»ï¼š
                                      <a href='https://maps.app.goo.gl/hy1RHW7g7HY8pndf9' target='_blank' rel='noopener noreferrer' class='description-link'>å¤§çŸ³å…¬åœ’</a>ã€
                                      <a href='https://maps.app.goo.gl/FNjUoz1q3b8gd5cq5' target='_blank' rel='noopener noreferrer' class='description-link'>å¤è³€æ”¿ç”·è¨˜å¿µå…¬åœ’</a>ï¼Œä»¥åŠ
                                      <a href='https://maps.app.goo.gl/4asVVDtBU8r76UWs7' target='_blank' rel='noopener noreferrer' class='description-link'>éŸ³æ¨‚æ£®æ—ç¾è¡“é¤¨</a>ï¼Œæ¬£è³å¯Œå£«å±±å’Œæ¹–æ™¯ã€‚`, 
                    },
                    { time: "17:30", icon: "â™¨ï¸", title: "è¿”å›é£¯åº—ä¼‘æ¯èˆ‡æ™šé¤", description: "å›åˆ°ç§€å³°é–£æ¹–æœˆé£¯åº—ï¼Œæº–å‚™äº«ç”¨æ™šé¤ä¸¦äº«å—æº«æ³‰è¨­æ–½ã€‚" }
                ]
            },
            // Day 5 è¡Œç¨‹è³‡æ–™
            day5: {
                title: "Day 5ï¼šæ²³å£æ¹–å‘¨é‚Šæ™¯é»èˆ‡è¿”å›æ–°å®¿",
                events: [
                    { time: "08:30", icon: "ğŸšŒ", title: "é£¯åº—æ¥é§è»Š", description: "æ­ä¹˜ç§€å³°é–£æ¹–æœˆé£¯åº—æ¥é§è»Šå‰å¾€æ²³å£æ¹–ç«™ã€‚" },
                    { time: "09:00", icon: "ğŸš—", title: "æ²³å£æ¹–ç§Ÿè»Š", description: "åœ¨æ²³å£æ¹–ç«™é™„è¿‘ç§Ÿè»Šï¼Œæº–å‚™é–‹å§‹ç’°æ¹–è¡Œç¨‹ã€‚", url: "https://maps.app.goo.gl/1fSTSGTZKNYb6uX4A" },
                    { time: "10:00~11:20", icon: "ğŸ¦¢", title: "ç™½é³¥æµœ", description: "æ¹–é‚Šéœè¬çš„æ™¯é»ï¼Œé©åˆè§€è³å¯Œå£«å±±å€’å½±ã€‚", url: "https://maps.app.goo.gl/az3br4Em8yX57yNi8" },
                    { time: "11:50~12:50", icon: "â›©ï¸", title: "æ–°å€‰å±±æ·ºé–“å…¬åœ’", description: "ç™»ä¸Šå…¬åœ’ï¼Œæ‹æ”å¯Œå£«å±±ã€äº”é‡å¡”èˆ‡åŸå¸‚æ™¯è§€çš„ç¶“å…¸ç•«é¢ã€‚", url: "https://maps.app.goo.gl/u8p6oy36KuD36cY4A" },
                    { time: "13:10~13:30", icon: "ğŸ•°ï¸", title: "æ—¥å·æ™‚è¨ˆåº—è¡—æ™¯", description: "æ‹æ”ç¶“å…¸çš„ã€å¯Œå£«å±±è¡—æ™¯ã€ï¼Œä½æ–¼å•†åº—è¡—çš„ç›¡é ­ã€‚", url: "https://maps.app.goo.gl/RgUSC7Ub1xDH4HRK6" },
                    { time: "13:50", icon: "ğŸ”‘", title: "é‚„è»Šæ‰‹çºŒ", description: "è¿”å›æ²³å£æ¹–ç«™é™„è¿‘ç§Ÿè»Šé»è¾¦ç†é‚„è»Šã€‚", url: "https://maps.app.goo.gl/1fSTSGTZKNYb6uX4A" },
                    { time: "14:00~15:00", icon: "ğŸ²", title: "åˆé¤ï¼šã»ã†ã¨ã†ä¸å‹•", description: "åœ¨æ²³å£æ¹–ç«™å‘¨é‚Šå“åšç•¶åœ°çš„ç‰¹è‰²éºµé£Ÿã€é¤ºé£¥ã€ã€‚", url: "https://maps.app.goo.gl/wLniBqx5PLEMqCYp8" },
                    { time: "15:00~17:20", icon: "ğŸ›ï¸", title: "æ²³å£æ¹–è»Šç«™é™„è¿‘é€›è¡—", description: "åœ¨è»Šç«™å‘¨é‚Šçš„å•†åº—è³¼è²·åœŸç”¢æˆ–ç´€å¿µå“ã€‚" },
                    { time: "17:40", icon: "ğŸš„", title: "æ­ä¹˜å¯Œå£«å›éŠè¿”å›æ–°å®¿", description: "å¾æ²³å£æ¹–ç«™æ­ä¹˜ç‰¹æ€¥åˆ—è»Šå¯Œå£«å›éŠï¼Œè¿”å›æ–°å®¿ï¼Œè»Šç¨‹ç´„ 2 å°æ™‚ã€‚" },
                    { time: "20:00~21:00", icon: "ğŸŒ¶ï¸", title: "æ™šé¤ï¼šAFURI è¾›ç´…", description: "åœ¨æ–°å®¿äº«ç”¨æ™šé¤ï¼ŒAFURIä»¥æŸšå­é¢¨å‘³å’Œè¾›ç´…ï¼ˆè¾£å‘³ï¼‰æ‹‰éºµèåã€‚", url: "https://maps.app.goo.gl/kLNy74idxhfc5SCD9" },
                    { time: "äº¤é€š", icon: "ğŸ¨", title: "å…¥ä½é£¯åº—ï¼šæ±æ©«INN æ–°å®¿å¾¡è‹‘å‰ç«™", description: "æ­åœ°éµå‰å¾€æ–°å®¿å¾¡è‹‘å‰ç«™ï¼“è™Ÿå‡ºå£é™„è¿‘çš„é£¯åº—è¾¦ç†å…¥ä½æ‰‹çºŒã€‚", url: "https://maps.app.goo.gl/hTmbuh8KNdneZ4fv7" }
                ]
            },
            // Day 6 è¡Œç¨‹è³‡æ–™ (æ–°å¢)
            day6: {
                title: "Day 6ï¼šæ–°å®¿éƒ½æœƒä¼‘é–’èˆ‡è³¼ç‰©",
                events: [
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€ No.4", description: "å¾é£¯åº—å‡ºç™¼ï¼Œæ­ä¹˜åœ°éµå‰å¾€ No.4 é¤å»³å€åŸŸã€‚" },
                    { time: "09:45~10:45", icon: "ğŸ³", title: "æ—©åˆé¤ï¼šNo.4", description: "åœ¨æ™‚å°šçš„ No.4 äº«ç”¨è±ç››çš„æ—©åˆé¤ã€‚", url: "https://maps.app.goo.gl/kYEHMsBXXLw5chxi9" },
                    { time: "11:00~12:00", icon: "ğŸŒ³", title: "æ–°å®¿å¾¡è‹‘", description: "åœ¨éƒ½æœƒä¸­å¿ƒçš„ç¶ æ´²â€”â€”æ–°å®¿å¾¡è‹‘æ•£æ­¥ï¼Œäº«å—å¯§éœçš„æ—¥å¼ã€è‹±å¼å’Œæ³•å¼åº­åœ’æ™¯è§€ã€‚", url: "https://maps.app.goo.gl/fWpDVGiiVwhGr1Z66" },
                    { time: "12:00~14:00", icon: "ğŸ›ï¸", title: "æ–°å®¿é€›è¡— (ä¸ŠåŠå ´)", description: "é–‹å§‹åœ¨æ–°å®¿åœ°å€é€²è¡Œè³¼ç‰©ã€‚" },
                    { time: "14:00~15:30", icon: "ğŸ”", title: "åˆé¤ï¼šæ–°å®¿", description: "åœ¨æ–°å®¿å€åŸŸäº«ç”¨åˆé¤ï¼ˆé¤å»³å¾…å®šï¼‰ã€‚" },
                    { time: "15:30~19:30", icon: "ğŸ›ï¸", title: "æ–°å®¿é€›è¡— (ä¸‹åŠå ´)", description: "ç¹¼çºŒåœ¨æ–°å®¿çš„å„å¤§ç™¾è²¨å…¬å¸å’Œç‰¹è‰²åº—é‹ªé€›è¡—ã€‚" },
                    { time: "19:30~21:00", icon: "ğŸ½ï¸", title: "æ™šé¤ï¼šæ–°å®¿", description: "åœ¨æ–°å®¿äº«ç”¨æ™šé¤ï¼ˆé¤å»³å¾…å®šï¼‰ã€‚" },
                    { time: "äº¤é€š", icon: "ğŸ¨", title: "è¿”å›é£¯åº—ï¼šæ±æ©«INN æ–°å®¿å¾¡è‹‘å‰ç«™", description: "æ­ä¹˜åœ°éµè¿”å›é£¯åº—ä¼‘æ¯ã€‚", url: "https://maps.app.goo.gl/hTmbuh8KNdneZ4fv7" }
                ]
            },
            // Day 7 è¡Œç¨‹è³‡æ–™ (æ–°å¢)
            day7: {
                title: "Day 7ï¼šåŸå®¿æ–‡åŒ–ã€æ™‚å°šèˆ‡æ²™é¾é«”é©—",
                events: [
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€æ˜æ²»ç¥å®®", description: "å¾é£¯åº—å‡ºç™¼ï¼Œæ­ä¹˜åœ°éµå‰å¾€æ˜æ²»ç¥å®®ã€‚" },
                    { time: "09:50~11:30", icon: "ğŸŒ²", title: "æ˜æ²»ç¥å®®", description: "åƒæ‹œä¸¦æ„Ÿå—æ±äº¬æœ€å¤§çš„ç¥ç¤¾ä¹‹ä¸€çš„èŠåš´æ°›åœã€‚", url: "https://maps.app.goo.gl/xDWwuny4iEEKaSXu7" },
                    { time: "11:40~13:00", icon: "ğŸœ", title: "åˆé¤ï¼šéºµæ•£", description: "åœ¨åŸå®¿é™„è¿‘å“åšç¾å‘³çš„çƒé¾éºµã€‚", url: "https://maps.app.goo.gl/PBRz4MMWofJPfVy69" },
                    { time: "13:00~14:15", icon: "ğŸ›ï¸", title: "åŸå®¿é€›è¡— (ç«¹ä¸‹é€š/è¡¨åƒé“)", description: "åœ¨åŸå®¿åœ°å€é€›è¡—ï¼Œæ„Ÿå—å¹´è¼•æ™‚å°šçš„æ°£æ¯ã€‚" },
                    { time: "14:30~16:30", icon: "ğŸ’‡â€â™€ï¸", title: "ç‡™é ­é«®ï¼šKATETAYLOR", description: "åœ¨åŸå®¿æ²™é¾é€²è¡Œç‡™é«®æˆ–ç¾é«®é«”é©—ã€‚", url: "https://maps.app.goo.gl/D6pLMkSLGZy5D8di9" },
                    { time: "16:30~19:10", icon: "ğŸ›ï¸", title: "åŸå®¿é€›è¡— (çºŒ)", description: "ç¹¼çºŒåœ¨åŸå®¿æˆ–è¡¨åƒé“å€åŸŸè³¼ç‰©ã€‚" },
                    { time: "19:30~21:00", icon: "ğŸ½ï¸", title: "æ™šé¤ï¼šåŸå®¿", description: "åœ¨åŸå®¿å€åŸŸäº«ç”¨æ™šé¤ï¼ˆé¤å»³å¾…å®šï¼‰ã€‚" },
                    { time: "äº¤é€š", icon: "ğŸ¨", title: "è¿”å›é£¯åº—ï¼šæ±æ©«INN æ–°å®¿å¾¡è‹‘å‰ç«™", description: "æ­ä¹˜åœ°éµè¿”å›é£¯åº—ä¼‘æ¯ã€‚", url: "https://maps.app.goo.gl/hTmbuh8KNdneZ4fv7" }
                ]
            },
            // Day 8 è¡Œç¨‹è³‡æ–™ (æ–°å¢)
            day8: {
                title: "Day 8ï¼šç›®é»‘å·ã€ä»£å®˜å±±èˆ‡æ¾€è°·ç¹è¯ä¹‹æ—…",
                events: [
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€ä¸­ç›®é»‘", description: "å¾é£¯åº—å‡ºç™¼ï¼Œæ­ä¹˜åœ°éµå‰å¾€ä¸­ç›®é»‘ã€‚" },
                    { time: "10:00~11:00", icon: "â˜•", title: "ä¸­ç›®é»‘é€›è¡— (å’–å•¡å»³)", description: "åœ¨ä¸­ç›®é»‘åœ°å€çš„ç‰¹è‰²å’–å•¡å»³å’Œå•†åº—è¡—æ¼«æ­¥ã€‚" },
                    { time: "11:00~12:50", icon: "ğŸ›ï¸", title: "ä»£å®˜å±±é€›è¡—", description: "åœ¨ä»£å®˜å±±åœ°å€çš„é«˜ç´šç²¾å“åº—å’Œè¨­è¨ˆå¸«å•†åº—è³¼ç‰©ã€‚" },
                    { time: "äº¤é€š", icon: "ğŸš‡", title: "æ­ä¹˜åœ°éµå‰å¾€æ¾€è°·", description: "å‰å¾€æ¾€è°·å€åŸŸï¼Œæº–å‚™äº«ç”¨åˆé¤ã€‚" },
                    { time: "13:15~14:15", icon: "ğŸœ", title: "åˆé¤ï¼šSUBA VS", description: "åœ¨æ¾€è°·å“åšçƒé¾éºµæˆ–æ—¥å¼éºµé£Ÿã€‚", url: "https://maps.app.goo.gl/MX4YSc7cGPcWzsWG8" },
                    { time: "14:15~19:00", icon: "ğŸ›ï¸", title: "æ¾€è°·é€›è¡—", description: "åœ¨æ¾€è°· 109ã€æ¾€è°· Parco ç­‰åœ°ç›¡æƒ…è³¼ç‰©ã€‚" },
                    { 
                        time: "19:00~20:30", 
                        icon: "ğŸ¦€", 
                        title: "æ™šé¤ï¼šèƒèŸ¹é“æ¨‚ æ¾€è°·å…¬åœ’é€šåº—", 
                        description: "<span class='font-bold text-red-600'> (å·²è¨‚ä½) </span> åœ¨æ¾€è°·äº«ç”¨ç¾å‘³çš„èƒèŸ¹æ–™ç†ã€‚", 
                        url: "https://maps.app.goo.gl/zjzki2EbwCwmbsee7" 
                    },
                    { time: "äº¤é€š", icon: "ğŸ¨", title: "è¿”å›é£¯åº—ï¼šæ±æ©«INN æ–°å®¿å¾¡è‹‘å‰ç«™", description: "æ­ä¹˜åœ°éµè¿”å›é£¯åº—ä¼‘æ¯ã€‚", url: "https://maps.app.goo.gl/hTmbuh8KNdneZ4fv7" }
                ]
            },
            // Day 9 è¡Œç¨‹è³‡æ–™ (æ–°å¢ - é›¢å¢ƒæ—¥)
            day9: {
                title: "Day 9ï¼šæ±äº¬å†è¦‹èˆ‡è¿”ç¨‹",
                events: [
                    { time: "09:00~11:00", icon: "â˜•", title: "æ—©æ™¨ï¼šåƒæ±è¥¿ã€é€›é€›", description: "åœ¨é£¯åº—å‘¨é‚Šäº«ç”¨æ—©é¤æˆ–é€²è¡Œæœ€å¾Œçš„è¼•é¬†æ•£æ­¥å’Œä¼´æ‰‹ç¦®æ¡è³¼ã€‚" },
                    { time: "11:30", icon: "ğŸšˆ", title: "äº¤é€šï¼šæ­ä¹˜å¤§çœ¾é‹è¼¸å‰å¾€æˆç”°æ©Ÿå ´", description: "å¾é£¯åº—å‡ºç™¼ï¼Œæ­ä¹˜äº¤é€šå·¥å…·å‰å¾€æˆç”°æ©Ÿå ´ (NRT)ã€‚" },
                    { time: "13:00", icon: "âœˆï¸", title: "æŠµé”æˆç”°æ©Ÿå ´", description: "è¾¦ç†ç™»æ©Ÿæ‰‹çºŒã€é€€ç¨…ï¼Œä¸¦åœ¨æ©Ÿå ´å…§é€²è¡Œæœ€å¾Œçš„è³¼ç‰©æˆ–ç”¨é¤ã€‚" },
                    { time: "15:30", icon: "ğŸ›«", title: "èˆªç­èµ·é£›", description: "æ­ä¹˜æ‚¨çš„ç­æ©Ÿï¼ŒçµæŸæ„‰å¿«çš„æ±äº¬ä¹‹æ—…ã€‚" }
                ]
            }
        };

        const contentContainer = document.getElementById('content-container');
        const navTabs = document.querySelectorAll('.nav-tab');

        // å¯¦ç”¨é€£çµé é¢æ¸²æŸ“
        const renderLinks = () => {
            const data = tripData.links;
            
            // ä¾åˆ†é¡åˆ†çµ„é€£çµ
            const groupedLinks = data.locations.reduce((acc, link) => {
                acc[link.category] = acc[link.category] || [];
                acc[link.category].push(link);
                return acc;
            }, {});

            const sectionsHtml = Object.keys(groupedLinks).map(category => {
                const linkCards = groupedLinks[category].map(link => `
                    <a href="${link.url}" target="_blank" rel="noopener noreferrer" 
                       class="flex flex-col items-center justify-center p-4 bg-white border border-stone-100 rounded-lg shadow-md hover:shadow-lg hover:bg-amber-50 transition duration-300 transform hover:scale-[1.02] cursor-pointer text-center h-full">
                        <span class="text-3xl mb-2">${link.icon}</span>
                        <p class="font-bold text-base text-stone-800">${link.name}</p>
                        <span class="text-xs text-amber-600 mt-1">åœ¨æ–°è¦–çª—é–‹å•Ÿ â†—</span>
                    </a>
                `).join('');

                return `
                    <section class="mb-8">
                        <h3 class="text-xl font-bold text-amber-700 border-b pb-2 mb-4">${category}</h3>
                        <div class="grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4">
                            ${linkCards}
                        </div>
                    </section>
                `;
            }).join('');

            contentContainer.innerHTML = `
                <div id="links" class="tab-content space-y-6">
                    <header class="text-center bg-white p-4 sm:p-6 rounded-lg shadow-sm">
                        <h2 class="text-2xl font-bold text-amber-800 mb-2">${data.title}</h2>
                        <p class="text-sm text-stone-600">${data.description}</p>
                    </header>
                    
                    <div class="space-y-8">
                        ${sectionsHtml}
                    </div>
                </div>
            `;
        };

        // æ¸²æŸ“å°ˆé–€çš„é€£çµå€å¡Š (Day 1: é€›è¡—, Day 2: é€›è¡—)
        const renderShopSection = (day) => {
            const data = tripData[day].shops;
            if (!data) return '';

            // Day 1 çµæ§‹ï¼šåªæœ‰ä¸€å€‹ shops.locations é™£åˆ—
            if (day === 'day1') {
                const shopListHtml = data.locations.map(shop => `
                    <a href="${shop.url}" target="_blank" rel="noopener noreferrer" 
                       class="relative flex flex-col justify-center items-center p-4 rounded-xl shadow-xl bg-amber-50 hover:bg-amber-100 transition duration-300 transform hover:scale-[1.02] cursor-pointer aspect-square">
                        <div class="text-center">
                            <p class="text-3xl sm:text-4xl mb-2 text-stone-700">${shop.icon}</p>
                            <p class="font-bold text-base sm:text-xl text-amber-800">${shop.name}</p>
                            <p class="text-xs text-stone-500 mt-1">é»æ“ŠæŸ¥çœ‹åœ°åœ–</p>
                        </div>
                    </a>
                `).join('');

                return `
                    <section class="bg-stone-50 p-4 sm:p-6 rounded-xl shadow-inner mt-6 sm:mt-8">
                        <h3 class="text-xl sm:text-2xl font-bold text-amber-700 mb-4 sm:mb-6 border-b pb-2">${data.title}</h3>
                        <div class="grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4 sm:gap-4">
                            ${shopListHtml}
                        </div>
                    </section>
                `;
            }

            // Day 2 çµæ§‹ï¼šåŒ…å«å¤šå€‹ sections (ä¸Šé‡ã€æ·ºè‰)
            if (day === 'day2' && data.sections) {
                const sectionsHtml = data.sections.map(section => {
                    const shopListHtml = section.locations.map(shop => `
                        <a href="${shop.url}" target="_blank" rel="noopener noreferrer" 
                           class="relative flex flex-col justify-center items-center p-4 rounded-xl shadow-xl bg-amber-50 hover:bg-amber-100 transition duration-300 transform hover:scale-[1.02] cursor-pointer aspect-square">
                            <div class="text-center">
                                <p class="text-3xl sm:text-4xl mb-2 text-stone-700">${section.icon}</p>
                                <p class="font-bold text-base sm:text-xl text-amber-800">${shop.name}</p>
                                <!-- æ–°å¢å‚™è¨»è³‡è¨Šï¼Œå¦‚æœæœ‰ note å±¬æ€§ -->
                                ${shop.note ? `<p class="text-xs text-red-600 font-medium mt-1">${shop.note}</p>` : ''}
                                <p class="text-xs text-stone-500 mt-1">é»æ“ŠæŸ¥çœ‹åœ°åœ–</p>
                            </div>
                        </a>
                    `).join('');

                    return `
                        <div class="mb-6">
                            <h4 class="text-lg sm:text-xl font-bold text-amber-600 mb-3 flex items-center">
                                <span class="mr-2">${section.icon}</span> ${section.title}
                            </h4>
                            <div class="grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4 sm:gap-4">
                                ${shopListHtml}
                            </div>
                        </div>
                    `;
                }).join('');

                return `
                    <section class="bg-stone-50 p-4 sm:p-6 rounded-xl shadow-inner mt-6 sm:mt-8">
                        <h3 class="text-xl sm:text-2xl font-bold text-amber-700 mb-4 sm:mb-6 border-b pb-2">Day 2 é€›è¡—åœ°é»å°èˆª</h3>
                        ${sectionsHtml}
                    </section>
                `;
            }

            return '';
        }


        const renderTimeline = (day) => {
            const data = tripData[day];
            if (!data) return;

            // 1. Generate timeline events (All events now render as standard or linkable cards)
            const eventsHtml = data.events.map((event, index) => {
                // å¦‚æœ description åŒ…å« HTML æ¨™ç±¤ (ä¾‹å¦‚ in-text link)ï¼Œå‰‡ä¸å°‡æ•´å¼µå¡ç‰‡è¨­ç‚ºé€£çµ (isLinkable = false)
                const hasHtmlInDescription = event.description.includes('<a') || event.description.includes('<br>');
                const isLinkable = !!event.url && !hasHtmlInDescription; 
                
                const elementTag = isLinkable ? 'a' : 'div';
                const linkAttributes = isLinkable ? `href="${event.url}" target="_blank" rel="noopener noreferrer"` : '';
                const cursorClass = isLinkable ? 'link-card transition duration-300' : '';

                return `
                    <div class="timeline-item flex items-start space-x-4">
                        <div class="flex flex-col items-center">
                            <div class="icon w-10 h-10 sm:w-12 sm:h-12 bg-amber-100 rounded-full flex items-center justify-center text-xl sm:text-2xl shadow-sm">${event.icon}</div>
                            ${index < data.events.length - 1 ? '<div class="w-0.5 h-20 sm:h-24 bg-amber-200"></div>' : ''}
                        </div>
                        <div class="flex-1 pb-8 sm:pb-10">
                            <${elementTag} class="block bg-white p-4 sm:p-5 rounded-lg shadow-sm ${cursorClass}" ${linkAttributes}>
                                <p class="text-xs sm:text-sm font-semibold text-amber-600 flex justify-between items-center">
                                    <span>${event.time}</span>
                                    ${isLinkable ? '<span class="text-xs ml-2 bg-amber-200 text-amber-800 px-2 py-0.5 rounded-full">ğŸ”— åœ°åœ–</span>' : ''}
                                </p>
                                <h4 class="text-lg sm:text-xl font-bold mt-1 text-stone-800">${event.title}</h4>
                                <p class="mt-1 text-sm text-stone-600">${event.description}</p>
                            </${elementTag}>
                        </div>
                    </div>
                `;
            }).join('');

            // 2. Dedicated shop section (only for Day 1 or Day 2)
            const dedicatedShopSection = (day === 'day1' || day === 'day2') ? renderShopSection(day) : '';

            // 3. Final HTML structure
            contentContainer.innerHTML = `
                <div id="${day}" class="tab-content">
                     <section class="bg-white p-4 sm:p-6 rounded-lg shadow-sm mb-6 sm:mb-8 text-center">
                        <h2 class="text-xl sm:text-2xl font-bold text-amber-700">${data.title}</h2>
                    </section>
                    <div class="timeline-container">
                        ${eventsHtml}
                    </div>
                    ${dedicatedShopSection}
                </div>
            `;
        };
        
        navTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                navTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                const tabName = tab.dataset.tab;
                if (tabName === 'links') {
                    renderLinks();
                } else {
                    renderTimeline(tabName);
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            // é è¨­è¼‰å…¥ å¯¦ç”¨é€£çµ
            const defaultTab = document.querySelector('.nav-tab[data-tab="å¯¦ç”¨é€£çµ"]');
            if (defaultTab) {
                 navTabs.forEach(t => t.classList.remove('active'));
                 defaultTab.classList.add('active');
                 renderTimeline('å¯¦ç”¨é€£çµ');
            } else {
                 // Fallback to links if day8 isn't found
                 renderLinks();
            }
        });
    </script>
</body>
</html>
